import React, { useCallback } from "react";

import { useDispatch, useSelector } from "react-redux";

import { isInDarkMode, setDarkMode } from "@cianciarusocataldo/modular-engine";

import { Toggle } from "@cianciarusocataldo/modular-ui";

const DarkModeIcon = (
  <svg viewBox="0 0 496.158 496.158" width="30px" height="30px">
    <path
      d="M248.082.003C111.07.003 0 111.063 0 248.085c0 137.001 111.07 248.07 248.082 248.07 137.006 0 248.076-111.069 248.076-248.07C496.158 111.062 385.088.003 248.082.003z"
      fill="#334d5c"
    />
    <path
      d="M322.377 80.781c10.1 22.706 15.721 47.844 15.721 74.298 0 101.079-81.94 183.019-183.019 183.019-26.454 0-51.591-5.622-74.298-15.721 28.49 64.053 92.674 108.721 167.298 108.721 101.078 0 183.019-81.94 183.019-183.019 0-74.625-44.668-138.809-108.721-167.298z"
      fill="#f2c900"
    />
    <path
      d="M155.079 338.098c-26.454 0-51.591-5.622-74.298-15.721 28.49 64.053 92.674 108.721 167.298 108.721 101.078 0 183.019-81.94 183.019-183.019 0 0-174.941 90.019-276.019 90.019zm81.555-149.427l-26.942-.95-8.464-24.773-8.463 24.773-26.942.95 21.71 15.149-8.186 26.473 21.881-16.523 21.881 16.523-8.185-26.473z"
      fill="#dbbb00"
    />
    <path
      fill="#f2c900"
      d="M209.824 194.758l4.641-17.608-14.666 10.791-15.918-9.834 6.338 17.264-14.88 12.119 18.984-.712 6.321 17.915 5.797-18.294 18.385-.458z"
    />
    <path
      fill="#dbbb00"
      d="M101.521 229.699l-19.387-.684-6.091-17.828-6.091 17.828-19.388.684L66.187 240.6l-5.891 19.051 15.747-11.89 15.746 11.89-5.891-19.051z"
    />
    <path
      fill="#f2c900"
      d="M82.228 234.079l3.34-12.671-10.554 7.766-11.456-7.078 4.562 12.424-10.708 8.721 13.662-.512 4.549 12.892 4.172-13.165 13.229-.329z"
    />
    <path
      fill="#dbbb00"
      d="M278.639 68.596l-23.271-.821-7.31-21.398-7.311 21.398-23.271.821 18.752 13.086-7.072 22.866 18.902-14.272 18.9 14.272-7.071-22.866z"
    />
    <path
      fill="#f2c900"
      d="M255.482 73.853l4.009-15.209-12.669 9.322-13.75-8.495 5.477 14.911-12.855 10.468 16.399-.614 5.461 15.474 5.007-15.801 15.879-.396z"
    />
  </svg>
);

const LightModeIcon = (
  <svg viewBox="0 0 187.322 187.322" width="30px" height="30px">
    <path fill="#f7a663" d="M101.677 40.71L93.661 0l-8.016 40.71h8.016z" />
    <path
      fill="#ffc80a"
      d="M67.185 47.804l6.942-4.008L46.83 12.548l13.413 39.264z"
    />
    <path
      fill="#f7a663"
      d="M47.804 67.186l4.007-6.943L12.548 46.83l31.247 27.298z"
    />
    <path fill="#ffc80a" d="M40.709 93.66l.001-8.014L0 93.66l40.709 8.017z" />
    <path
      fill="#f7a663"
      d="M47.803 120.137l-4.007-6.943-31.248 27.297 39.262-13.412z"
    />
    <path
      fill="#ffc80a"
      d="M60.244 135.511L46.83 174.774l27.297-31.247-6.943-4.008z"
    />
    <path
      fill="#f7a663"
      d="M85.645 146.611l8.016 40.711 8.016-40.709h-8.016z"
    />
    <path
      fill="#ffc80a"
      d="M120.137 139.519l-6.942 4.006 27.296 31.249-13.412-39.263z"
    />
    <path
      fill="#f7a663"
      d="M139.519 120.137l-4.009 6.94 39.263 13.414-31.248-27.297z"
    />
    <path
      fill="#ffc80a"
      d="M187.322 93.66l-40.71-8.015.001 8.015-.001 8.016z"
    />
    <path
      fill="#f7a663"
      d="M139.518 67.184l4.007 6.942 31.248-27.296-39.264 13.413z"
    />
    <path
      fill="#ffc80a"
      d="M127.078 51.812l13.413-39.264-27.298 31.248 6.943 4.008z"
    />
    <path
      d="M93.661 45.265v96.793c26.729 0 48.397-21.668 48.397-48.397S120.39 45.265 93.661 45.265z"
      fill="#fdd633"
    />
    <path
      d="M45.265 93.661c0 26.729 21.668 48.397 48.396 48.397V45.265c-26.728 0-48.396 21.668-48.396 48.396z"
      fill="#f4ca19"
    />
  </svg>
);

const DarkModeSwitcher = () => {
  const dispatch = useDispatch();

  const dark = useSelector(isInDarkMode);
  const darkModeSwitch = useCallback(() => {
    dispatch(setDarkMode(!dark));
  }, [dispatch, dark]);

  return (
    <Toggle
      onIcon={LightModeIcon}
      offIcon={DarkModeIcon}
      shadow
      dark={dark}
      value={!dark}
      onChange={darkModeSwitch}
      className="mx-1"
    />
  );
};

export default DarkModeSwitcher;
